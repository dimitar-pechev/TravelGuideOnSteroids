@model TravelGuide.Areas.Store.ViewModels.StoreListViewModel

@if (Model.Items.Count() == 0)
{
    <div class="row text-center">
        <h5>No products were found... Try something else!</h5>
    </div>
}
else
{
    <div class="row">
        @foreach (var item in Model.Items)
        {
            <div class="col-md-2">
                <a class="item-link" href="/store/storeitems/details/@item.Id">
                    <div class="card store-item">
                        <div class="card-content picture-placeholder">
                            <img src="@item.ImageUrl" alt="@item.ItemName" class="img-responsive store-item-image" />
                        </div>
                        <div class="card-content store-item-footer text-center">
                            <p class="item-title">@item.ItemName</p>
                            <i>
                                @item.Brand
                            </i>
                            <br />
                            @item.Price BGN
                            <br />
                            @if (@item.InStock)
                            {
                                @: In Stock
                        }
                            else
                            {
                                @: Depleted
                        }
                        </div>
                    </div>
                </a>
            </div>
        }
    </div>

    <div class="text-center">
        <ul class="pagination">
            @if (Model.CurrentPage <= 1)
            {
                <li class="page-item disabled">
                    <a class="page-link" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            }
            else
            {
                if (string.IsNullOrEmpty(Model.Query))
                {
                    <li class="page-item">
                        <a class="page-link waves-effect" href="/store/storeitems/index?page=@Model.PreviousPage" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                            <span class="sr-only">Previous</span>
                        </a>
                    </li>
                }
                else
                {
                    <li class="page-item">
                        <a class="page-link waves-effect" href="/store/storeitems/index?page=@Model.PreviousPage&query=@Model.Query" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                            <span class="sr-only">Previous</span>
                        </a>
                    </li>
                }
            }
            @for (int i = 1; i <= Model.PagesCount; i++)
            {

                if (Model.CurrentPage == i)
                {
                    <li class="page-item active disabled"><a class="page-link white-text">@i</a></li>
                }
                else
                {
                    if (!string.IsNullOrEmpty(Model.Query))
                    {
                        <li class="page-item"><a class="page-link waves-effect" href="/store/storeitems/index?page=@i&query=@Model.Query">@i</a></li>

                    }
                    else
                    {
                        <li class="page-item"><a class="page-link waves-effect" href="/store/storeitems/index?page=@i">@i</a></li>
                    }
                }

            }

            @if (Model.CurrentPage >= Model.PagesCount)
            {
                <li class="page-item disabled">
                    <a class="page-link" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            }
            else
            {
                if (string.IsNullOrEmpty(Model.Query))
                {
                    <li class="page-item">
                        <a class="page-link waves-effect" href="/store/storeitems/index?page=@Model.NextPage" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                            <span class="sr-only">Next</span>
                        </a>
                    </li>
                }
                else
                {
                    <li class="page-item">
                        <a class="page-link waves-effect" href="/store/storeitems/index?page=@Model.NextPage&query=@Model.Query" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                            <span class="sr-only">Next</span>
                        </a>
                    </li>
                }
            }
        </ul>
    </div>
}