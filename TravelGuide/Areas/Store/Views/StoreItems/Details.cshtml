@model TravelGuide.Models.Store.StoreItem

@{
    ViewBag.Title = "Details";
}

<div class="row gallery-cover-container">
    <img src="~/App_Themes/Store/store-cover.png" alt="maps-shop" class="img-responsive" />
</div>

<div class="container store-container">
    <hr class="hr" />
    <div class="row">
        <div class="col-md-4">
            <img src="@Model.ImageUrl" class="item-details-image" alt="@Model.ItemName" />
        </div>
        <div class="col-md-4 item-second-col">
            <h4>@Model.ItemName</h4>
            <p><i>@Model.Brand</i></p>
            <p class="item-description">@Model.Description</p>
        </div>
        <div class="col-md-4">
            <h4>@Model.Price BGN</h4>
            @if (Model.InStock)
            {
                <p>In Stock</p>
            }
            else
            {
                <p>Depleted</p>
            }

            <div class="row">
                @using (Html.BeginForm())
                {
                    <div class="col-md-4 buy-details input-field">
                        @Html.Label("Quantity", new { @for = "quantity" })
                        @Html.TextBox("quantity", 1, new { type = "number", @class = "text-center", min = 1, max = 10 })                        
                    </div>
                    <div class="col-md-8">
                        <input type="submit" value="Add to Cart" class="btn btn-success btn-add-cart" />
                    </div>
                }
            </div>

            <div runat="server" visible="false" id="AdminOptionsPanel">
                <h4 class="text-center">Admin Options</h4>
                <asp:HyperLink Text="Edit" NavigateUrl='<%#: string.Format($"~/Store/EditItem.aspx?id={StoreItem.Id}") %>' CssClass="btn btn-default black" runat="server" />
                <asp:Button Text="Change Status" CssClass="btn btn-default black" data-toggle="modal" data-target="#status-box"
                            ID="BtnChangeStatusReveal" runat="server" />
                <asp:Button Text="Delete" CssClass="btn btn-danger" ID="BtnDelete" OnClick="BtnDelete_Click" runat="server" />
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="status-box" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <p>Change the status of the product</p>
            </div>
            <div class="modal-body">
                <asp:DropDownList runat="server" CssClass="form-control" ID="StatusOptions">
                    <asp:ListItem Text="In stock" Value="true" />
                    <asp:ListItem Text="Depleted" Value="false" />
                </asp:DropDownList>
            </div>
            <div class="modal-footer footer-comment">
                <asp:Button Text="Submit" CssClass="btn btn-success btn-gallery" ID="BtnSubmitStatusChange" OnClick="BtnSubmitStatusChange_Click" runat="server" />
                <asp:Button Text="Discard" CssClass="btn btn-danger btn-gallery" data-dismiss="modal" runat="server" />
            </div>
        </div>
    </div>
</div>
