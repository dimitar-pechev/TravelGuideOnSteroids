@model IEnumerable<TravelGuide.Models.Articles.Article>

@if (Model.Count() == 0)
{
    <div class="row">
        <h5 class="text-center">No results found... Try something else!</h5>
    </div>
}
else
{
    foreach (var item in Model)
    {
        <a href="/articles/details/@item.Id" class="link-entry">
            <div class="card destination-card">
                <div class="card-content col-md-3 card-destinations-image" style="background-image: url('@item.PrimaryImageUrl');">
                </div>
                <div class="card-content col-md-9 card-destinations-entry">
                    <h5 class="destinations-entry-city">@item.City, @item.Country</h5>
                    <h6 class="destinations-entry-title">@item.Title</h6>
                    <span class="destinations-entry-date">
                        Posted on: @item.CreatedOn
                    </span>
                    <br />
                    <p class="destinations-entry-content">@item.ContentMain</p>
                </div>
            </div>
        </a>
    }

    <div class="text-center">
        <ul class="pagination">
            @if (ViewBag.CurrentPage <= 1)
            {
                <li class="page-item disabled">
                    <a class="page-link" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            }
            else
            {
                <li class="page-item">
                    <a class="page-link waves-effect" href="/Articles/Index?page=@(ViewBag.CurrentPage - 1)" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            }
            @for (int i = 1; i <= ViewBag.PagesCount; i++)
            {
                if (string.IsNullOrEmpty(ViewBag.Query))
                {
                    if (ViewBag.CurrentPage == i)
                    {
                        <li class="page-item active disabled"><a class="page-link white-text">@i</a></li>
                    }
                    else
                    {
                        <li class="page-item"><a class="page-link waves-effect" href="/Articles/Index?page=@i">@i</a></li>
                    }
                }
                else
                {
                    if (ViewBag.CurrentPage == i)
                    {
                        <li class="page-item active disabled"><a class="page-link white-text">@i</a></li>
                    }
                    else
                    {
                        <li class="page-item"><a class="page-link waves-effect" href="/Articles/Index?page=@i&query=@ViewBag.Query">@i</a></li>
                    }
                }
            }

            @if (ViewBag.CurrentPage >= ViewBag.PagesCount)
            {
                <li class="page-item disabled">
                    <a class="page-link" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            }
            else
            {
                <li class="page-item">
                    <a class="page-link waves-effect" href="/Articles/Index?page=@(ViewBag.CurrentPage + 1)" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            }

        </ul>
    </div>
}